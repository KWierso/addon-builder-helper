<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <title>Sample</title>
</head>
<body>
<p>Click on one of the entries below to install a Jetpack-based XPI
that requires no restart.</p>

<p>This page requires the experimental FlightDeck Addon.</p>

<ul style="color: blue;">
  <li><span onclick="install('https://secure.toolness.com/xpi/facebook-acquaintances.xpi');" style="cursor: pointer;">Install Facebook Acquaintances</span></li>
  <li><span onclick="install('https://secure.toolness.com/xpi/cuddlefish-lab.xpi');" style="cursor: pointer;">Install Cuddlefish Lab</span></li>
  <li><span onclick="install('https://secure.toolness.com/xpi/nonexistent.xpi');" style="cursor: pointer;">Install Nonexistent XPI</span></li>
</ul>

<script>
function install(url) {
  // Send a message to the browser instructing it to download
  // and install the addon.
  window.mozFlightDeck.send({cmd: "install", path: url});
}

window.addEventListener("load", function() {
  // We have to wait to register this callback because, sadly,
  // window.mozFlightDeck isn't added to the window until the
  // window is loaded.
  window.mozFlightDeck.whenMessaged(function(data) {
    // This gets called when one of our extensions has been installed
    // successfully, or failed somehow.
    alert(JSON.stringify(data));
  });
}, false);
</script>
</body>
</html>
